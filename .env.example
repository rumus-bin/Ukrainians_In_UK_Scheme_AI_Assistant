# Telegram Bot Configuration
TELEGRAM_BOT_TOKEN=your_telegram_bot_token_here
TELEGRAM_BOT_USERNAME=your_bot_username

# Ollama Configuration
# For LOCAL Ollama (already running on your host machine):
OLLAMA_BASE_URL=http://host.docker.internal:11434
# For CONTAINERIZED Ollama (uncomment ollama service in docker-compose.yml):
# OLLAMA_BASE_URL=http://ollama:11434

OLLAMA_MODEL_NAME=llama3.2:3b
OLLAMA_EMBEDDING_MODEL=mxbai-embed-large

# Vector Database Configuration (Qdrant)
VECTOR_DB_TYPE=qdrant  # Options: qdrant, chroma
QDRANT_HOST=qdrant
QDRANT_PORT=6333
QDRANT_COLLECTION_NAME=ukraine_support_knowledge

# Alternative: ChromaDB Configuration
# CHROMA_HOST=chroma
# CHROMA_PORT=8000
# CHROMA_COLLECTION_NAME=ukraine_support_knowledge

# RAG Configuration
RAG_CHUNK_SIZE=500
RAG_CHUNK_OVERLAP=50
RAG_TOP_K_RESULTS=5
RAG_SIMILARITY_THRESHOLD=0.7

# Agent Configuration
ORCHESTRATOR_MODEL=llama3.2:3b
VISA_AGENT_MODEL=llama3.2:3b
HOUSING_AGENT_MODEL=llama3.2:3b
WORK_AGENT_MODEL=llama3.2:3b
FALLBACK_AGENT_MODEL=llama3.2:3b

# Response Configuration
MAX_RESPONSE_TOKENS=500
RESPONSE_TEMPERATURE=0.3
RESPONSE_TIMEOUT_SECONDS=7

# Language Configuration
DEFAULT_OUTPUT_LANGUAGE=uk  # Ukrainian
SUPPORTED_INPUT_LANGUAGES=uk,ru
AUTO_TRANSLATE_RUSSIAN=true

# Data Source Configuration
# Manual Documents (Primary method for now)
MANUAL_DOCS_ENABLED=true
MANUAL_DOCS_PATH=/app/data/manual_docs
MANUAL_DOCS_FORMAT=json  # Options: json, txt, markdown
MANUAL_DOCS_RECURSIVE=true

# Web Scraper Configuration (Disabled by default - use when ready)
SCRAPER_GOVUK_ENABLED=false
SCRAPER_OPORA_ENABLED=false
SCRAPER_SCHEDULE_ENABLED=false  # Enable for automated weekly updates
SCRAPER_SCHEDULE_CRON=0 2 * * 0  # Weekly on Sunday at 2 AM
SCRAPER_USER_AGENT=Mozilla/5.0 (compatible; UkraineSupportBot/1.0)
SCRAPER_REQUEST_DELAY_SECONDS=2
SCRAPER_MAX_RETRIES=3

# Pagination Configuration
SCRAPER_PAGINATION_ENABLED=true  # Enable multi-page scraping for blog/listing pages
SCRAPER_MAX_PAGES=5  # Maximum pages to fetch (prevents infinite loops)
SCRAPER_PAGINATION_TIMEOUT_SECONDS=30  # Total timeout for paginated fetches

# Source URLs (for when scrapers are enabled)
SCRAPER_GOV_UK_BASE=https://www.gov.uk
SCRAPER_OPORA_UK_BASE=https://www.opora.uk

# Logging Configuration
LOG_LEVEL=INFO  # Options: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_FORMAT=json  # Options: json, text
LOG_FILE_PATH=/app/logs/bot.log
LOG_MAX_SIZE_MB=100
LOG_BACKUP_COUNT=5

# Safety Configuration
ENABLE_SAFETY_DISCLAIMERS=true
SAFETY_PROMPT_ENABLED=true
BLOCK_LEGAL_PREDICTIONS=true

# Development/Testing
DEBUG_MODE=false
TEST_MODE=false
DRY_RUN=false

# Optional: Monitoring and Analytics
# SENTRY_DSN=
# PROMETHEUS_ENABLED=false
# PROMETHEUS_PORT=9090

# ============================================================================
# Train Monitor Configuration (Daily Scheduler)
# ============================================================================
# Перевіряє розклад поїздів щоденно о 7:00 ранку
# Sends Ukrainian language notifications to Telegram

# Enable/Disable Train Monitoring
TRAIN_MONITOR_ENABLED=false  # Set to true to enable train monitoring

# DRY-RUN Mode (logs notifications without sending to Telegram)
TRAIN_MONITOR_DRY_RUN=true  # Set to false for production (sends real notifications)

# Daily Check Time (HH:MM format, UK timezone)
TRAIN_MONITOR_CHECK_TIME=07:00  # Time to perform daily check

# Configuration Provider Type
TRAIN_MONITOR_PROVIDER_TYPE=env  # Options: env, file, database

# Darwin API Configuration (UK National Rail)
# Get your API key from: https://opendata.nationalrail.co.uk/
DARWIN_API_KEY=your_darwin_api_key_here
DARWIN_WSDL_URL=https://lite.realtime.nationalrail.co.uk/OpenLDBWS/wsdl.aspx

# Alternative: departureboard.io (free, no registration)
# Uncomment to use departureboard.io instead of direct Darwin API:
# DARWIN_USE_DEPARTUREBOARD_IO=true
# DARWIN_DEPARTUREBOARD_IO_URL=https://api.departureboard.io/api/v2.0

# ============================================================================
# Station Configurations (when using env provider)
# ============================================================================
#
# MULTIPLE TELEGRAM GROUPS SUPPORT:
# The bot can send notifications to multiple Telegram groups/chats for each station.
# Use CHAT_IDS (plural) for multiple chats or CHAT_ID (singular) for one chat.
#
# Examples:
#   TRAIN_MONITOR_ELY_CHAT_IDS=-1001234567890,-1009876543210  # Multiple groups
#   TRAIN_MONITOR_ELY_CHAT_ID=-1001234567890                  # Single group
#
# This is useful when:
# - Bot is added to multiple community groups
# - You have different groups for different purposes (main chat, alerts, etc.)
# - You want to test in a private group before going live
#
# ============================================================================

# Monitored Stations (comma-separated CRS codes)
TRAIN_MONITOR_STATIONS=ELY,CBG  # Example: Ely, Cambridge

# Station 1: Ely (ELY)
TRAIN_MONITOR_ELY_ENABLED=true
TRAIN_MONITOR_ELY_NAME=Ely
TRAIN_MONITOR_ELY_MODE=departures  # Options: departures, arrivals, both
TRAIN_MONITOR_ELY_INTERVAL=5  # Check interval in minutes
TRAIN_MONITOR_ELY_TIME_WINDOW=120  # Time window in minutes (how far ahead to look)
TRAIN_MONITOR_ELY_MAX_SERVICES=50  # Maximum services to fetch (1-150)
# Multiple chats (comma-separated) - bot can send to multiple Telegram groups:
TRAIN_MONITOR_ELY_CHAT_IDS=-1001234567890,-1009876543210,-1005555555555
# OR single chat (backward compatible):
# TRAIN_MONITOR_ELY_CHAT_ID=-1001234567890
TRAIN_MONITOR_ELY_NOTIFICATIONS=true  # Enable/disable notifications for this station
TRAIN_MONITOR_ELY_MIN_DELAY=5  # Minimum delay in minutes to notify (0 = notify all delays)
TRAIN_MONITOR_ELY_NOTIFY_CANCELLATIONS=true  # Notify on service cancellations
TRAIN_MONITOR_ELY_NOTIFY_PLATFORM_CHANGES=true  # Notify on platform changes
TRAIN_MONITOR_ELY_DESTINATIONS=  # Filter by destinations (comma-separated CRS codes, empty = all)

# Station 2: Cambridge (CBG)
TRAIN_MONITOR_CBG_ENABLED=true
TRAIN_MONITOR_CBG_NAME=Cambridge
TRAIN_MONITOR_CBG_MODE=departures
TRAIN_MONITOR_CBG_INTERVAL=10  # Check every 10 minutes
TRAIN_MONITOR_CBG_TIME_WINDOW=120
TRAIN_MONITOR_CBG_MAX_SERVICES=50
# Send to multiple groups (different from ELY groups):
TRAIN_MONITOR_CBG_CHAT_IDS=-1001234567890,-1007777777777
TRAIN_MONITOR_CBG_NOTIFICATIONS=true
TRAIN_MONITOR_CBG_MIN_DELAY=10
TRAIN_MONITOR_CBG_NOTIFY_CANCELLATIONS=true
TRAIN_MONITOR_CBG_NOTIFY_PLATFORM_CHANGES=true
TRAIN_MONITOR_CBG_DESTINATIONS=KGX  # Only notify for trains to Kings Cross

# Common UK Station CRS Codes (for reference):
# ELY = Ely
# CBG = Cambridge
# KGX = London Kings Cross
# NRW = Norwich
# IPW = Ipswich
# STM = Stratford
# LST = London Liverpool Street
# For full list: https://www.nationalrail.co.uk/stations_destinations/48541.aspx